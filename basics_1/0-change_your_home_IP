#!/bin/bash

# Backup the current /etc/hosts file
sudo cp /etc/hosts /etc/hosts.bak

# Modify /etc/hosts file
# Change localhost from 127.0.0.1 to 127.0.0.2
sudo sed -i 's/127.0.0.1/127.0.0.2/' /etc/hosts

# Add facebook.com to resolve to 8.8.8.8
if ! grep -q "8.8.8.8 facebook.com" /etc/hosts; then
    echo "8.8.8.8 facebook.com" | sudo tee -a /etc/hosts > /dev/null
fi

# Check changes by pinging localhost and facebook.com
echo "Testing localhost resolution:"
ping -c 2 localhost

echo "Testing facebook.com resolution:"
ping -c 2 facebook.com

echo "Configuration complete."
